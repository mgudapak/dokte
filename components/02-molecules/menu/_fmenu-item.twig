{% if not item_modifiers %}
  {% set item_modifiers = [] %}
{% endif %}
{# Pass original item modifiers down to children #}
{% set original_item_modifiers = item_modifiers %}
{% if item.in_active_trail == TRUE %}
  {% set item_modifiers = item_modifiers|merge(['active']) %}
{% endif %}
{% if menu_level > 0 %}
  {% set item_modifiers = item_modifiers|merge(['sub', 'sub-' ~ menu_level]) %}
  {% set item_tag = 'p' %}
{% else %}
  {% set item_tag = 'h5' %}
{% endif %}
{% if item.below %}
  {% set item_modifiers = item_modifiers|merge(['with-sub']) %}
{% endif %}
{# below could maybe be done without a loop? #}
{% for modifier in item.modifiers %}
  {% set item_modifiers = item_modifiers|merge([modifier]) %}
{% endfor %}

{% set list_item_label = item_label %}
{% set list__item__base_class = item_base_class|default(menu_class ~ '__item') %}
{% set list__item__modifiers = item_modifiers %}
{% set list__item__blockname = item_blockname %}

{% import "@molecules/menu/_fmenu.twig" as menus %}

<div class="cell small-12 medium-6 large-3 {{ item_modifiers|join(' ') }}">

  <{{ item_tag }}>{{ item.title }}</{{ item_tag }}>

  {% if item.below %}
    {{ menus.menu_links(item.below, attributes, menu_level + 1, menu_class, menu_modifiers, menu_blockname, item_base_class, original_item_modifiers, item_blockname, directory) }}
  {% endif %}
</div>
